/* ========== BASE UNITS ========== */
:root {
  --base-unit: 1vmin; /* This will scale with viewport */
  --button-zone-height: calc(6 * var(--base-unit));
  --splitter-thickness: calc(0.8 * var(--base-unit));
  --padding-unit: calc(1.5 * var(--base-unit));
}

/* ========== MAIN LAYOUT ========== */
#app-container {
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  display: grid;
  grid-template-rows: 1fr auto; /* Main content and button zone */
  overflow: hidden;
}

#main-content {
  display: grid;
  grid-template-columns: minmax(15rem, 50rem) var(--splitter-thickness) 1fr;
  grid-template-rows: 1fr var(--splitter-thickness) minmax(10rem, 50rem);
  grid-template-areas:
    "text    vsplit  graphics"
    "hsplit  hsplit  hsplit"
    "data    data    data";
  height: calc(100vh - var(--button-zone-height));
}

/* ========== CONTENT AREAS ========== */
#data-container,
#text-container {
  padding: var(--padding-unit);
  overflow-y: auto;
}

#graphics-container {
  position: relative;
  overflow: hidden;
}

#graphics-container canvas {
  width: 100%;
  height: 100%;
  display: block;
}

/* ========== SPLITTERS ========== */
.splitter {
  background: #ddd;
  transition: background 0.2s;
}

#vertical-splitter {
  grid-area: vsplit;
  cursor: col-resize;
}

#horizontal-splitter {
  grid-area: hsplit;
  cursor: row-resize;
}

.splitter:hover {
  background: #888;
}

/* ========== BUTTON ZONE ========== */
#button-container {
  height: var(--button-zone-height);
  min-height: 6rem; /* Fallback for very small screens */
  display: flex;
  align-items: center;
  justify-content: flex-end;
  gap: var(--padding-unit);
  padding: 0 var(--padding-unit);
  background: #f8f8f8;
  border-top: 1px solid #ddd;
}

.action-button {
  padding: calc(0.8 * var(--base-unit)) calc(1.6 * var(--base-unit));
  font-size: calc(1.6 * var(--base-unit));
}

/* ========== MOBILE ADJUSTMENTS ========== */
@media (max-width: 768px) {
  :root {
    --base-unit: 1.5vmin; /* Slightly larger base for mobile */
  }
  
  #main-content {
    grid-template-columns: 1fr;
    grid-template-rows: auto var(--splitter-thickness) auto var(--splitter-thickness) auto;
    grid-template-areas:
      "text"
      "hsplit1"
      "graphics"
      "hsplit2"
      "data";
  }
  
  #vertical-splitter {
    display: none;
  }
  
  #button-container {
    flex-wrap: wrap;
    padding-bottom: env(safe-area-inset-bottom);
  }
}

/* ========== TEXT ELEMENTS ========== */
#selected-title {
  font-size: calc(2 * var(--base-unit));
  margin-bottom: calc(1 * var(--base-unit));
}

.metadata-row {
  font-size: calc(1.4 * var(--base-unit));
  margin-bottom: calc(0.5 * var(--base-unit));
}

#abstract-text {
  font-size: calc(1.6 * var(--base-unit));
  line-height: 1.4;
  margin-top: calc(1 * var(--base-unit));
}

/* ========== TABLE STYLING ========== */
#data-table {
  font-size: calc(1.4 * var(--base-unit));
  width: 100%;
}

#data-table th, #data-table td {
  padding: calc(0.5 * var(--base-unit));
}
