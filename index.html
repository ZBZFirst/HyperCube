<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no">
  <title>3D PubMed Viewer</title>
  <link rel="icon" href="data:,">
  <script type="importmap">
    {
      "imports": {
        "three": "https://unpkg.com/three@0.158.0/build/three.module.js",
        "three/examples/jsm/": "https://unpkg.com/three@0.158.0/examples/jsm/"
      }
    }
  </script>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div id="app-container">
    <div id="main-content">
      <!-- Data Table Container -->
      <div id="data-container">
        <h2>PubMed Articles</h2>
        <table id="data-table">
          <thead>
            <tr>
              <th>Title</th>
              <th>Select</th>
              <th>Notes</th>
              <th>Rating</th>
              <th>Tags</th>
              <th>MeSH Terms</th>
              <th>Keywords</th>
            </tr>
          </thead>
          <tbody>
            <!-- Will be populated by JavaScript -->
          </tbody>
        </table>
      </div>
      
      <!-- Vertical Splitter -->
      <div id="vertical-splitter" class="splitter"></div>
    
      <!-- Graphics Container -->
      <div id="graphics-container">
        <canvas id="canvas"></canvas>
      </div>
      <div id="pointer-lock-hint" style="position: absolute; top: 200px; left: 700px; transform: translate(-50%, -50%); background: rgba(0,0,0,0.7); color: white; padding: 20px; border-radius: 5px; text-align: center; z-index: 100">
      Click on the 3D view to enable movement controls. (Mouse to Look, WASD to Move, Ctrl for Down, Space for Up, G to Shoot, Esc for Exiting 3D Control Mode)
      </div>
      <!-- Horizontal Splitter -->
      <div id="horizontal-splitter" class="splitter"></div>
    
      <div id="text-container">
        <div id="selected-title">No article selected</div>
        <div class="metadata-row">
          <span class="metadata-label">PMID:</span>
          <span id="pmid-text">-</span>
        </div>
        <div class="metadata-row">
          <span class="metadata-label">PubYear:</span>
          <span id="year-text">-</span>
        </div>
        <div class="metadata-row">
          <span class="metadata-label">Source:</span>
          <span id="source-text">-</span>
        </div>
        <div class="metadata-row">
          <span class="metadata-label">DOI Link:</span>
          <a id="doi-link" target="_blank">-</a>
        </div>
        <div class="metadata-row">
          <span class="metadata-label">PMC Link:</span>
          <a id="pmc-link" target="_blank">-</a>
        </div>
        <div id="abstract-text">Select an article to view its abstract</div>
      </div>
    </div>
    
    <!-- Button Zone -->
    <div id="button-container">
      <!-- Existing buttons -->
      <button class="action-button delete" id="delete-btn">Delete</button>
      <button class="action-button" id="download-btn">Download</button>
      
      <!-- Add these new view control buttons -->
      <div class="view-controls">
        <button class="view-button" onclick="setPositionMode(PositionModes.GRID)">
          <span class="icon">‚óº</span> Grid
        </button>
        <button class="view-button" onclick="setPositionMode(PositionModes.YEAR)">
          <span class="icon">üìÖ</span> Year
        </button>
        <button class="view-button" onclick="setPositionMode(PositionModes.JOURNAL)">
          <span class="icon">üìö</span> Journal
        </button>
        <button class="view-button" onclick="setPositionMode(PositionModes.CITATIONS)">
          <span class="icon">‚≠ê</span> Citations
        </button>
      </div>
    </div>
    
    <script type="module" src="script.js"></script>
  </div>
</body>
</html>
